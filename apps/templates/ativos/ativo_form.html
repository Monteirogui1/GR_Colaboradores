{% extends 'layouts/base.html' %}

{% block title %}{% if object %}Editar Ativo{% else %}Novo Ativo{% endif %} - ERP{% endblock %}

{% block conteudo %}
<div class="content">
    <div class="page-header">
        <h1>{% if object %}Editar Ativo{% else %}Novo Ativo{% endif %}</h1>
        <a href="{% url 'ativos:ativo_list' %}" class="btn btn-secondary">Voltar</a>
    </div>

    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}

        <!-- Informações Básicas -->
        <div class="detail-card">
            <h2>Informações Básicas</h2>
            <div class="form-grid">
                <div class="form-group">
                    {{ form.nome.label_tag }}
                    {{ form.nome }}
                    {% if form.nome.errors %}
                        <div class="text-danger">{{ form.nome.errors }}</div>
                    {% endif %}
                </div>
                <div class="form-group">
                    {{ form.etiqueta.label_tag }}
                    {{ form.etiqueta }}
                    {% if form.etiqueta.errors %}
                        <div class="text-danger">{{ form.etiqueta.errors }}</div>
                    {% endif %}
                </div>
                <div class="form-group">
                    {{ form.numero_serie.label_tag }}
                    {{ form.numero_serie }}
                    {% if form.numero_serie.errors %}
                        <div class="text-danger">{{ form.numero_serie.errors }}</div>
                    {% endif %}
                </div>
                <div class="form-group">
                    {{ form.codigo_referencia.label_tag }}
                    {{ form.codigo_referencia }}
                    {% if form.codigo_referencia.errors %}
                        <div class="text-danger">{{ form.codigo_referencia.errors }}</div>
                    {% endif %}
                </div>
                <div class="form-group">
                    {{ form.status.label_tag }}
                    {{ form.status }}
                    {% if form.status.errors %}
                        <div class="text-danger">{{ form.status.errors }}</div>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Relacionamentos -->
        <div class="detail-card">
            <h2>Relacionamentos</h2>
            <div class="form-grid">
                <div class="form-group">
                    {{ form.categoria.label_tag }}
                    {{ form.categoria }}
                    {% if form.categoria.errors %}
                        <div class="text-danger">{{ form.categoria.errors }}</div>
                    {% endif %}
                </div>
                <div class="form-group">
                    {{ form.fornecedor.label_tag }}
                    {{ form.fornecedor }}
                    {% if form.fornecedor.errors %}
                        <div class="text-danger">{{ form.fornecedor.errors }}</div>
                    {% endif %}
                </div>
                <div class="form-group">
                    {{ form.localizacao.label_tag }}
                    {{ form.localizacao }}
                    {% if form.localizacao.errors %}
                        <div class="text-danger">{{ form.localizacao.errors }}</div>
                    {% endif %}
                </div>
                <div class="form-group">
                    {{ form.marca.label_tag }}
                    {{ form.marca }}
                    {% if form.marca.errors %}
                        <div class="text-danger">{{ form.marca.errors }}</div>
                    {% endif %}
                </div>
                <div class="form-group">
                    {{ form.computador.label_tag }}
                    {{ form.computador }}
                    <small class="form-text">Vincular a um computador do inventário</small>
                    {% if form.computador.errors %}
                        <div class="text-danger">{{ form.computador.errors }}</div>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Detalhes do Produto -->
        <div class="detail-card">
            <h2>Detalhes do Produto</h2>
            <div class="form-grid">
                <div class="form-group">
                    {{ form.fabricante.label_tag }}
                    {{ form.fabricante }}
                    {% if form.fabricante.errors %}
                        <div class="text-danger">{{ form.fabricante.errors }}</div>
                    {% endif %}
                </div>
                <div class="form-group">
                    {{ form.modelo.label_tag }}
                    {{ form.modelo }}
                    {% if form.modelo.errors %}
                        <div class="text-danger">{{ form.modelo.errors }}</div>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Datas e Valores -->
        <div class="detail-card">
            <h2>Datas e Valores</h2>
            <div class="form-grid">
                <div class="form-group">
                    {{ form.data_compra.label_tag }}
                    {{ form.data_compra }}
                    {% if form.data_compra.errors %}
                        <div class="text-danger">{{ form.data_compra.errors }}</div>
                    {% endif %}
                </div>
                <div class="form-group">
                    {{ form.garantia_ate.label_tag }}
                    {{ form.garantia_ate }}
                    {% if form.garantia_ate.errors %}
                        <div class="text-danger">{{ form.garantia_ate.errors }}</div>
                    {% endif %}
                </div>
                <div class="form-group">
                    {{ form.custo.label_tag }}
                    {{ form.custo }}
                    {% if form.custo.errors %}
                        <div class="text-danger">{{ form.custo.errors }}</div>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Descrição e Auditoria -->
        <div class="detail-card">
            <h2>Informações Adicionais</h2>
            <div class="form-grid">
                <div class="form-group full-width">
                    {{ form.descricao.label_tag }}
                    {{ form.descricao }}
                    {% if form.descricao.errors %}
                        <div class="text-danger">{{ form.descricao.errors }}</div>
                    {% endif %}
                </div>
                <div class="form-group full-width">
                    {{ form.auditoria.label_tag }}
                    {{ form.auditoria }}
                    {% if form.auditoria.errors %}
                        <div class="text-danger">{{ form.auditoria.errors }}</div>
                    {% endif %}
                </div>
            </div>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn btn-primary">Salvar</button>
        </div>
    </form>
</div>
{% endblock %}